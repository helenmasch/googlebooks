{"ast":null,"code":"import _defineProperty from\"/Users/helenmaschmeyer/Desktop/UPENN-Bootcamp-Work/googlebooks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/helenmaschmeyer/Desktop/UPENN-Bootcamp-Work/googlebooks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/helenmaschmeyer/Desktop/UPENN-Bootcamp-Work/googlebooks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/helenmaschmeyer/Desktop/UPENN-Bootcamp-Work/googlebooks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/helenmaschmeyer/Desktop/UPENN-Bootcamp-Work/googlebooks/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import api from\"../Utils/api\";import{BookList,BookListItem}from\"../components/Booklist\";import{Container,Row,Col}from\"../components/Grid\";import Button from\"../components/Button\";import Input from\"../components/Input\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={apiResults:[],search:\"\",apiKey:\"\".concat(process.env.REACT_APP_BOOKS_KEY)};_this.handleInputChange=function(event){// Destructure the name and value properties off of event.target\n// Update the appropriate state\nvar _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleFormSubmit=function(event){// When the form is submitted, prevent its default behavior, get books update the books state\nevent.preventDefault();api.getGooglebooks(_this.state.search,_this.state.apiKey).then(function(res){// console.log(JSON.stringify(res.data));\nvar searchBooks=[];for(var i=0;i<res.data.items.length;i++){searchBooks.push({title:res.data.items[i].volumeInfo.title,description:res.data.items[i].volumeInfo.description,image:res.data.items[i].volumeInfo.imageLinks.thumbnail,link:res.data.items[i].volumeInfo.infoLink,authors:res.data.items[i].volumeInfo.authors});}// console.log(JSON.stringify(searchBooks));\n_this.setState({apiResults:searchBooks});}).catch(function(err){return console.log(err);});};return _this;}_createClass(Search,[{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"md-12\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"xs-9 sm-10\"},/*#__PURE__*/React.createElement(Input,{name:\"search\",value:this.state.search,onChange:this.handleInputChange,placeholder:\"Search For a Book\"})),/*#__PURE__*/React.createElement(Col,{size:\"xs-3 sm-2\"},/*#__PURE__*/React.createElement(Button,{onClick:this.handleFormSubmit,type:\"success\",className:\"input-lg\"},\"Search\"))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{size:\"xs-12\"},!this.state.apiResults.length?/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"No Books to Display\"):/*#__PURE__*/React.createElement(BookList,null,this.state.apiResults.map(function(book,index){return/*#__PURE__*/React.createElement(BookListItem,{key:index,title:book.title,authors:book.authors,href:book.link,description:book.description,thumbnail:book.image});})))));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["/Users/helenmaschmeyer/Desktop/UPENN-Bootcamp-Work/googlebooks/client/src/pages/search.js"],"names":["React","Component","api","BookList","BookListItem","Container","Row","Col","Button","Input","Search","state","apiResults","search","apiKey","process","env","REACT_APP_BOOKS_KEY","handleInputChange","event","target","name","value","setState","handleFormSubmit","preventDefault","getGooglebooks","then","res","searchBooks","i","data","items","length","push","title","volumeInfo","description","image","imageLinks","thumbnail","link","infoLink","authors","catch","err","console","log","map","book","index"],"mappings":"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","sourcesContent":["import React , {Component} from \"react\"\nimport api from \"../Utils/api\"\nimport { BookList, BookListItem } from \"../components/Booklist\";\nimport { Container, Row, Col } from \"../components/Grid\";\nimport Button from \"../components/Button\";\nimport Input from \"../components/Input\";\n\nclass Search extends Component{\n     state = {\n         apiResults: [],\n         search: \"\",\n         apiKey: `${process.env.REACT_APP_BOOKS_KEY}`\n     };\n\n     handleInputChange = event => {\n        // Destructure the name and value properties off of event.target\n        // Update the appropriate state\n        const { name, value } = event.target;\n        this.setState({\n          [name]: value\n        });\n      };\n    \n      handleFormSubmit = event => {\n        // When the form is submitted, prevent its default behavior, get books update the books state\n        event.preventDefault();\n        api.getGooglebooks(this.state.search, this.state.apiKey)\n          .then(res => { \n            // console.log(JSON.stringify(res.data));\n             \n            const searchBooks = []\n            for (var i=0; i < res.data.items.length; i++) {\n                searchBooks.push(\n                  { title: res.data.items[i].volumeInfo.title,\n                    description: res.data.items[i].volumeInfo.description,\n                    image: res.data.items[i].volumeInfo.imageLinks.thumbnail,\n                    link: res.data.items[i].volumeInfo.infoLink,\n                    authors: res.data.items[i].volumeInfo.authors\n                  })\n              }\n              // console.log(JSON.stringify(searchBooks));\n            this.setState({ apiResults: searchBooks })})\n          .catch(err => console.log(err));\n      };\n    \n\n\n    render() {\n        return(\n            <Container>\n            <Row>\n              <Col size=\"md-12\">\n                <form>\n                  <Container>\n                    <Row>\n                      <Col size=\"xs-9 sm-10\">\n                        <Input\n                          name=\"search\"\n                          value={this.state.search}\n                          onChange={this.handleInputChange}\n                          placeholder=\"Search For a Book\"\n                        />\n                      </Col>\n                      <Col size=\"xs-3 sm-2\">\n                        <Button\n                          onClick={this.handleFormSubmit}\n                          type=\"success\"\n                          className=\"input-lg\"\n                        >\n                          Search\n                        </Button>\n                      </Col>\n                    </Row>\n                  </Container>\n                </form>\n              </Col>\n            </Row>\n            <Row>\n              <Col size=\"xs-12\">\n                {!this.state.apiResults.length ? (\n                  <h1 className=\"text-center\">No Books to Display</h1>\n                ) : (\n                  <BookList>\n                    {this.state.apiResults.map((book, index) => {\n                      return (\n                        <BookListItem\n                          key={index}\n                          title={book.title}\n                          authors={book.authors}\n                          href={book.link}\n                          description={book.description}\n                          thumbnail={book.image}\n                        />\n                      );\n                    })}\n                  </BookList>\n                )}\n              </Col>\n            </Row>\n          </Container>\n        )\n    }\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}